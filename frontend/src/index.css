@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    /* Light: very pale emerald wash. Dark: deep forest. */
    @apply bg-brand-50 text-gray-900 font-sans
           dark:bg-forest dark:text-brand-50;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  /* Light: dark-green filled. Dark: bright emerald with dark text for max contrast. */
  .btn-primary {
    @apply btn bg-brand-700 text-white hover:bg-brand-800 focus:ring-brand-600
           dark:bg-brand-400 dark:text-forest dark:hover:bg-brand-300 dark:focus:ring-brand-400 dark:ring-offset-forest;
  }
  .btn-secondary {
    @apply btn bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-600
           dark:bg-forest-surface dark:text-brand-100 dark:border-forest-border dark:hover:bg-forest-mid dark:focus:ring-brand-400 dark:ring-offset-forest;
  }
  .btn-danger {
    @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
  }
  /* Light: white card, light emerald border. Dark: forest surface. */
  .card {
    @apply bg-white rounded-xl shadow-sm border border-brand-100 p-6
           dark:bg-forest-surface dark:border-forest-border;
  }
  .input {
    @apply block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent
           dark:bg-forest-mid dark:border-forest-border dark:text-brand-50 dark:placeholder-brand-300 dark:focus:ring-brand-400;
  }
  .label {
    @apply block text-sm font-medium text-gray-700 mb-1 dark:text-brand-200;
  }
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
}

/*
 * ── Dark-mode gray remapping ──────────────────────────────────────────────────
 * These selectors override Tailwind's generated dark:bg-gray-*, dark:text-gray-*,
 * etc. classes so every component automatically uses the forest/emerald palette
 * without needing changes in individual component files.
 * They appear after @tailwind utilities so cascade order gives them priority.
 * ─────────────────────────────────────────────────────────────────────────── */

/* Backgrounds */
.dark .dark\:bg-gray-950  { background-color: #0F1F14; }
.dark .dark\:bg-gray-900  { background-color: #0F1F14; }
.dark .dark\:bg-gray-800  { background-color: #1A2E1F; }
.dark .dark\:bg-gray-700  { background-color: #243b29; }
.dark .dark\:bg-gray-600  { background-color: #2d4a35; }

/* Backgrounds with opacity modifier (e.g. dark:bg-gray-700/50) */
.dark .dark\:bg-gray-700\/50 { background-color: rgba(36, 59, 41, 0.5); }
.dark .dark\:bg-gray-800\/50 { background-color: rgba(26, 46, 31, 0.5); }

/* Borders */
.dark .dark\:border-gray-800 { border-color: #1A2E1F; }
.dark .dark\:border-gray-700 { border-color: #2d4a35; }
.dark .dark\:border-gray-600 { border-color: #3a5c41; }

/* Text */
.dark .dark\:text-gray-100 { color: #ecfdf5; }
.dark .dark\:text-gray-200 { color: #d1fae5; }
.dark .dark\:text-gray-300 { color: #a7f3d0; }
.dark .dark\:text-gray-400 { color: #6ee7b7; }
.dark .dark\:text-gray-500 { color: #6ee7b7; }

/* Hover backgrounds */
.dark .dark\:hover\:bg-gray-800:hover { background-color: #1A2E1F; }
.dark .dark\:hover\:bg-gray-700:hover { background-color: #243b29; }
.dark .dark\:hover\:bg-gray-600:hover { background-color: #2d4a35; }

/* Placeholder text */
.dark .dark\:placeholder-gray-400::placeholder { color: rgba(110, 231, 183, 0.6); }

/* Divide (table/list dividers) */
.dark .dark\:divide-gray-700 > :not([hidden]) ~ :not([hidden]) { border-color: #2d4a35; }
.dark .dark\:divide-gray-800 > :not([hidden]) ~ :not([hidden]) { border-color: #1A2E1F; }
